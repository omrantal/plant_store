import{r as a,_ as h,u as f,a as e,j as r,S as i}from"./index-7944a1b6.js";import{s as t}from"./style-c048b2de.js";import{B as d}from"./Button-3baf81b3.js";import{u}from"./usePlantsContext-67d54dea.js";const g=a.lazy(()=>h(()=>import("./Checkout-5402d120.js"),["assets/Checkout-5402d120.js","assets/index-7944a1b6.js","assets/index-0082ef7e.css","assets/axios-760d4776.js","assets/style-c048b2de.js","assets/usePlantsContext-67d54dea.js"]).then(s=>({default:s.Checkout}))),x=a.lazy(()=>h(()=>import("./CartCard-43983e01.js"),["assets/CartCard-43983e01.js","assets/index-7944a1b6.js","assets/index-0082ef7e.css","assets/index.esm-2f7eda3c.js","assets/iconBase-5d0ce26d.js","assets/index.esm-f8ab8554.js","assets/style-c048b2de.js","assets/useCartFunctions-f65d4762.js","assets/usePlantsContext-67d54dea.js"]).then(s=>({default:s.CartCard}))),y=()=>{const{plantsInCart:s,totalPrice:o,dispatch:c}=u(),{user:n}=f(),[m,p]=a.useState(!0);return a.useEffect(()=>{c({type:"OPEN_CART"})},[]),a.useEffect(()=>{n&&(async()=>{await c({type:"GET_FROM_CART",payload:JSON.parse(localStorage.getItem(`${n.email}_cart`))}),p(!1)})()},[c,n]),n?e("section",{className:`${t.padding}`,children:m?e(i,{height:"300px"}):o===0?r("div",{className:"flex flex-col justify-center items-center h-[300px]",children:[e("h1",{className:`${t.headinglg}`,children:"Cart is Empty"}),e("h2",{className:`${t.paragraph2}`,children:"Add Plants from Store"}),e(d,{to:"/store",content:"Shop Now"})]}):r("div",{className:"min-h-[300px]",children:[e("div",{className:"text-center",children:e("h1",{className:`${t.heading} mb-6 text-center`,children:"Your choosen Plants"})}),r("div",{className:"flex flex-col sm:flex-row",children:[e("div",{className:"flex-[80%] grid grid-cols-1 ss:grid-cols-2 lg:grid-cols-3 place-items-center content-center order-2 sm:order-1 mt-0 sm:mt-10",children:s.map(l=>e(a.Suspense,{fallback:e(i,{height:"200px"}),children:e(x,{plant:l})},l._id))}),r("div",{className:"flex-[20%] flex flex-col justify-center items-center order-1 sm:order-2 p-6",children:[e("h1",{className:`${t.heading} text-center`,children:"Total Price"}),e("h1",{className:`${t.heading} text-center`,children:o})]})]}),e(a.Suspense,{fallback:e(i,{height:"300px"}),children:e(g,{})})]})}):e("section",{className:`${t.padding}`,children:r("div",{className:"flex flex-col justify-center items-center h-[300px]",children:[e("h1",{className:`${t.headinglg}`,children:"You are not Signed in"}),e("h2",{className:`${t.paragraph2}`,children:"Signup to shop from store"}),e(d,{to:"/signup",content:"Signup"})]})})};export{y as default};
