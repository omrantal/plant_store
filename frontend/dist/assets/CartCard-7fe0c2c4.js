import{u as w,r as y,a as e,T as i,j as s,b as N}from"./index-e0cd5fed.js";import{d as b,e as v}from"./index.esm-ec7a5f69.js";import{b as C}from"./index.esm-bf6d4b23.js";import{s as n}from"./style-c048b2de.js";import{u as j}from"./useCartFunctions-a940ee19.js";import{u as k}from"./usePlantsContext-042ca6c6.js";import"./iconBase-9d0be38b.js";const L=({plant:r})=>{const{dispatch:p}=k(),{user:m}=w(),{updateLoading:a,updatePlantInCart:o}=j(),[h,c]=y.useState(!1),{_id:t,numOfPieces:u,price:x}=r,f=async({id:l,price:g})=>{c(!0),await N.delete(`/api/cart/${l}`,{headers:{Authorization:`Bearer ${m.token}`}}).then(d=>{p({type:"DELETE_FROM_CART",payload:{id:l,price:g}})}).catch(d=>{console.log(d)}),c(!1)};return h?e("div",{className:"w-[250px] sm:w-[260px] md:w-[270px] lg:w-[280px] min-h-[122px] flex my-2 justify-center items-center",children:e(i,{width:"40px"})}):s("div",{className:"w-[250px] sm:w-[260px] md:w-[270px] lg:w-[280px] flex my-2 border-solid border-gray-400 border-[1px]",children:[e("img",{src:r.image,alt:"plant",className:"h-[120px] w-[120px]"}),s("div",{className:"flex-1 flex flex-col items-center justify-start",children:[e("h5",{className:`${n.paragraph2} my-3 text-center`,children:r.name}),s("div",{className:"flex mt-3 justify-center items-center",children:[e("p",{className:`${n.paragraph2} mr-3`,children:r.price}),e("div",{className:"hover:bg-gray-300 duration-300 ml-3 hover:rounded-full p-1",children:e(C,{className:"h-[24px] w-[24px] shrink-0 cursor-pointer",onClick:()=>f({id:t,price:x})})})]})]}),s("div",{className:"flex flex-col items-center justify-center mr-2",children:[e("button",{disabled:a,className:"hover:rounded-full hover:bg-gray-300 duration-300 p-0.5 mb-3",children:a?e(i,{width:"20px"}):e(b,{className:"h-[20px] w-[20px] shrink-0 cursor-pointer",onClick:()=>o({id:t,change:"add"})})}),e("p",{className:`${n.paragraph3}`,children:r.numOfPieces}),e("button",{disabled:a||u===1,className:"hover:rounded-full hover:bg-gray-300 duration-300 p-0.5 mt-3",children:a?e(i,{width:"20px"}):e(v,{className:"h-[20px] w-[20px] shrink-0 cursor-pointer",onClick:()=>o({id:t,change:"remove"})})})]})]})};export{L as CartCard};
