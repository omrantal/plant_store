import{r as h,u as w,j as i,a as t,T as p,L as N}from"./index-7944a1b6.js";import{G as T}from"./iconBase-5d0ce26d.js";import{s as m}from"./style-c048b2de.js";import{u as y}from"./useCartFunctions-f65d4762.js";import"./usePlantsContext-67d54dea.js";function x(r){return T({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"}}]})(r)}const M=({plant:r,group:b})=>{const c="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,l=h.useRef(null),{user:e}=w(),{addLoading:o,addPlantToCart:d}=y(),[u,a]=h.useState(!1),g=()=>{!e||o||a(!0)},f=v=>{if(!e||o)return;const n=l.current.getBoundingClientRect(),s=v.changedTouches[0];s.clientX>=n.left&&s.clientX<=n.right&&s.clientY>=n.top&&s.clientY<=n.bottom&&d(r),a(!1)};return i("div",{className:`w-[160px] inline-flex flex-col items-center justify-center m-[10px] border-solid border-gray-400 border-[1px] ${b&&!c&&"duration-300 group-hover:blur-[2px] hover:!blur-none group-hover:scale-[0.9] hover:!scale-100 mix-blend-luminosity"}`,children:[t("img",{src:r.image,alt:"plant",className:"h-[160px] w-[160px]"}),t("p",{className:"mt-3",children:r.name}),i("div",{className:"flex justify-between items-center mt-3",children:[t("p",{className:"mr-6",children:r.price}),c?i("button",{ref:l,disabled:o||!e,className:`relative inline-block ${e&&"hover:rounded-full hover:bg-gray-300 duration-300"} p-0.5`,onTouchStart:g,onTouchEnd:f,children:[o?t(p,{width:"22px"}):t(x,{className:`h-[22px] w-[22px] shrink-0 ${e?"cursor-pointer":"cursor-default opacity-10"}`}),u&&t("div",{className:`absolute top-[calc(-90%-10px)] translate-x-[-10%] ${m.paragraph3} bg-black text-white p-1 rounded-[4px] z-10 text-center min-w-[100px]`,children:e&&(o?"Adding... ":"Add to Cart")})]}):i("button",{disabled:o||!e,className:`relative inline-block ${e&&"hover:rounded-full hover:bg-gray-300 duration-300"} p-0.5`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[o?t(p,{width:"22px"}):t(x,{className:`h-[22px] w-[22px] shrink-0 ${e?"cursor-pointer":"cursor-default opacity-10"}`,onClick:()=>d(r)}),u&&t("div",{className:`absolute top-[calc(-90%-10px)] translate-x-[-10%] ${m.paragraph3} bg-black text-white p-1 rounded-[4px] z-10 text-center min-w-[100px]`,children:e&&(o?"Adding... ":"Add to Cart")})]})]}),t(N,{to:`/store/${r._id}`,className:"w-full text-center mt-3 p-2 border-solid border-gray-400 border-t-[1px] hover:bg-gray-200 duration-300",children:"See Options"})]})};export{M as PlantCard};
