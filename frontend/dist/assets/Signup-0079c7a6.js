import{r,u as g,b as x,a as e,S as b,j as p,L as v}from"./index-7944a1b6.js";import{a as y}from"./axios-760d4776.js";const N=()=>{const[n,o]=r.useState(null),[l,a]=r.useState(null),{dispatch:i}=g();return{signup:async(d,c,u)=>{a(!0),o(null);try{const s=await y.post("/api/user/signup",{username:d,email:c,password:u});localStorage.setItem("user",JSON.stringify(s.data)),i({type:"LOGIN",payload:s.data}),a(!1)}catch(s){console.log(s.response),s.response&&s.response.data&&(a(!1),o(s.response.data.error))}},isLoading:l,error:n}},j=()=>{const[n,o]=r.useState(""),[l,a]=r.useState(""),[i,m]=r.useState(""),{signup:d,isLoading:c,error:u}=N(),{user:s}=g(),h=x(),f=async t=>{t.preventDefault(),await d(n,l,i)};return s&&h("/"),e("section",{className:"flex justify-center items-center h-screen",children:c?e("div",{className:"w-full flex flex-col justify-center items-center",children:e(b,{height:"400px"})}):p("div",{className:"w-[300px] h-[400px] flex flex-col justify-between items-center rounded-lg border-2 border-gray-200 text-white shadow-lg shadow-gray-200 bg-gradient-to-t from-[#669660] to-[#99B896]",children:[p("form",{className:"h-52 w-full p-4",onSubmit:f,children:[e("input",{type:"text",placeholder:"Username",onChange:t=>o(t.target.value),value:n,className:"inputClass"}),e("input",{type:"email",placeholder:"Email",onChange:t=>a(t.target.value),value:l,className:"inputClass"}),e("input",{type:"password",placeholder:"Password",onChange:t=>m(t.target.value),value:i,className:"inputClass"}),e("div",{className:"mt-10 text-center",children:e("button",{className:"py-2 px-4 text-white cursor-pointer hover:bg-[#99B896] hover:scale-110 duration-300",disabled:c,children:"Signup"})}),u&&e("div",{className:"p-2 text-center font-bold text-[#e7195a] border-[2px] border-solid border-[#e7195a] rounded-md mt-6 animate-pulse",children:u})]}),p("p",{className:"text center mb-10",children:["Signed up before?, just ",e(v,{to:"/login",className:"underline cursor-pointer",children:"Login"})]})]})})};export{j as default};
