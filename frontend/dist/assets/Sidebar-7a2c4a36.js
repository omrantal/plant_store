import{r as d,u as b,e as g,j as p,a as s,F as w,L as x}from"./index-e0cd5fed.js";import{c as k}from"./index.esm-bf6d4b23.js";import{f as y,g as C}from"./index.esm-ec7a5f69.js";import{u as N}from"./usePlantsContext-042ca6c6.js";import{u as E}from"./Navbar-0e70715e.js";import"./iconBase-9d0be38b.js";globalThis&&globalThis.__awaiter;function L(c,a,o,n){const l=d.useRef(a);O(()=>{l.current=a},[a]),d.useEffect(()=>{var e;const i=(e=o==null?void 0:o.current)!==null&&e!==void 0?e:window;if(!(i&&i.addEventListener))return;const r=f=>l.current(f);return i.addEventListener(c,r,n),()=>{i.removeEventListener(c,r,n)}},[c,o,n])}globalThis&&globalThis.__awaiter;const O=typeof window<"u"?d.useLayoutEffect:d.useEffect;function A(c,a,o="mousedown"){L(o,n=>{const l=c==null?void 0:c.current;!l||l.contains(n.target)||a(n)})}const $=({headlines:c})=>{const{user:a,isAdmin:o}=b(),{isPlantAdded:n}=N(),{logout:l}=E(),{pathname:e}=g(),[i,r]=d.useState(!1),[f,u]=d.useState(window.innerWidth),t=d.useRef(null);return d.useEffect(()=>{const m=()=>{u(window.innerWidth)};return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),d.useEffect(()=>{f>620&&r(!1)},[f]),A(t,m=>{t.current&&!t.current.contains(m.target)&&(m.stopPropagation(),r(!1))}),p("div",{ref:t,children:[i?"":s(y,{className:"cursor-pointer hover:text-white duration-300 mr-2 w-6 h-6",onClick:()=>r(!i)}),p("div",{className:`top-0 right-0 fixed bg-[#669660] w-[300px] h-full ${i?"translate-x-0":"translate-x-full"} ease-out duration-300`,children:[s(C,{className:"cursor-pointer hover:text-white duration-300 ml-3 mt-3 w-6 h-6",onClick:()=>r(!i)}),s("div",{className:"p-6",children:p("div",{className:"flex flex-col items-start",children:[e==="/"&&s(w,{children:c.map((m,v)=>s("a",{className:"my-1 text-black hover:text-white duration-300 cursor-pointer",href:`#${m}`,onClick:()=>r(!1),children:m},v))}),s("div",{className:"mt-4 flex flex-col",children:e!=="/"&&p(w,{children:[s(x,{className:`flex items-center px-3 my-1 cursor-pointer ${e==="/store"?"text-white":"text-black hover:text-white duration-300"}`,to:"/store",onClick:()=>r(!1),children:s("span",{className:"font-semibold",children:"Store"})}),p(x,{className:`relative flex items-center mx-3 my-1 cursor-pointer ${e==="/cart"?"text-white":"text-black hover:text-white duration-300"}`,to:"/cart",onClick:()=>r(!1),children:[s(k,{className:"h-8 w-8"}),n!==0&&s("div",{className:"absolute inline-flex items-center justify-center w-5 h-5 text-[10px] font-semibold text-black bg-red-400 rounded-full -top-1.5 -right-1",children:n})]})]})}),a?p(w,{children:[o&&s("div",{className:"px-3 py-1 mt-3 text-center cursor-pointer bg-white hover:bg-[#99B896] rounded-[50px] duration-300",children:s(x,{to:"/admin",onClick:()=>r(!1),children:"Admin"})}),s("div",{className:"px-3 py-1 mt-3 text-center cursor-pointer bg-white hover:bg-[#99B896] rounded-[50px] duration-300",children:s("button",{onClick:()=>l(),children:"Logout"})})]}):p("div",{className:"flex flex-col",children:[s(x,{className:"px-3 py-1 mt-3 text-center cursor-pointer bg-white hover:bg-[#99B896] rounded-[50px] duration-300",to:"/signup",onClick:()=>r(!1),children:"Signup"}),s(x,{className:"px-3 py-1 mt-3 text-center cursor-pointer bg-white hover:bg-[#99B896] rounded-[50px] duration-300",to:"/login",onClick:()=>r(!1),children:"Login"})]})]})})]})]})};export{$ as Sidebar};
