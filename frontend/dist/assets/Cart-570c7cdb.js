import{r as a,_ as m,u as f,a as e,j as r,S as o,b as g}from"./index-a1ba6871.js";import{s as t}from"./style-c048b2de.js";import{B as h}from"./Button-fcd32a92.js";import{u as x}from"./usePlantsContext-fd8a136a.js";const N=a.lazy(()=>m(()=>import("./Checkout-45376469.js"),["assets/Checkout-45376469.js","assets/index-a1ba6871.js","assets/index-ad40ca10.css","assets/style-c048b2de.js","assets/usePlantsContext-fd8a136a.js"]).then(s=>({default:s.Checkout}))),_=a.lazy(()=>m(()=>import("./CartCard-3283bf3c.js"),["assets/CartCard-3283bf3c.js","assets/index-a1ba6871.js","assets/index-ad40ca10.css","assets/index.esm-fa7a5fc5.js","assets/iconBase-b0a5b4c4.js","assets/index.esm-58293f3a.js","assets/style-c048b2de.js","assets/useCartFunctions-a40ab5a7.js","assets/usePlantsContext-fd8a136a.js"]).then(s=>({default:s.CartCard}))),E=()=>{const{plantsInCart:s,totalPrice:d,dispatch:c}=x(),{user:n}=f(),[p,u]=a.useState(!0);return a.useEffect(()=>{c({type:"OPEN_CART"})},[]),a.useEffect(()=>{n&&(async()=>{await g.get("/api/cart",{headers:{Authorization:`Bearer ${n.token}`}}).then(l=>{c({type:"GET_FROM_CART",payload:l.data}),u(!1)}).catch(l=>{console.log(l)})})()},[c,n]),n?e("section",{className:`${t.padding}`,children:p?e(o,{height:"300px"}):d===0?r("div",{className:"flex flex-col justify-center items-center h-[300px]",children:[e("h1",{className:`${t.headinglg}`,children:"Cart is Empty"}),e("h2",{className:`${t.paragraph2}`,children:"Add Plants from Store"}),e(h,{to:"/store",content:"Shop Now"})]}):r("div",{className:"min-h-[300px]",children:[e("div",{className:"text-center",children:e("h1",{className:`${t.heading} mb-6 text-center`,children:"Your choosen Plants"})}),r("div",{className:"flex flex-col sm:flex-row",children:[e("div",{className:"flex-[80%] grid grid-cols-1 ss:grid-cols-2 lg:grid-cols-3 place-items-center content-center order-2 sm:order-1 mt-0 sm:mt-10",children:s.map(i=>e(a.Suspense,{fallback:e(o,{height:"200px"}),children:e(_,{plant:i})},i._id))}),r("div",{className:"flex-[20%] flex flex-col justify-center items-center order-1 sm:order-2 p-6",children:[e("h1",{className:`${t.heading} text-center`,children:"Total Price"}),e("h1",{className:`${t.heading} text-center`,children:d})]})]}),e(a.Suspense,{fallback:e(o,{height:"300px"}),children:e(N,{})})]})}):e("section",{className:`${t.padding}`,children:r("div",{className:"flex flex-col justify-center items-center h-[300px]",children:[e("h1",{className:`${t.headinglg}`,children:"You are not Signed in"}),e("h2",{className:`${t.paragraph2}`,children:"Signup to shop from store"}),e(h,{to:"/signup",content:"Signup"})]})})};export{E as default};
