import{r as v,j as d,a,u as X,d as Y,S as Z,F as ee,T as te,b as ne}from"./index-e0cd5fed.js";import{G as re}from"./iconBase-9d0be38b.js";import{B as ie}from"./index.esm-ec5071b5.js";import{s as p}from"./style-c048b2de.js";import{a as oe,b as ae}from"./index.esm-ec7a5f69.js";import{u as le}from"./useCartFunctions-a940ee19.js";import"./usePlantsContext-042ca6c6.js";function se(e){return re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.6 26.93s-6.1 50.65 6.7 70.42c7 10.75 21.2 22.55 33.5 18.85 9.4-2.9 14.4-16.56 13.2-26.29-3.3-27.33-53.4-62.98-53.4-62.98zm150.1.32s10.7 69.41 33.7 93.05c8.7 8.9 23.9 19.4 34.8 13.5 8.4-4.6 8.5-19 5.9-28.2-9.8-34.67-74.4-78.35-74.4-78.35zM24.56 42.28S35.02 115 57.61 141.6c7.76 9.1 23.6 20.5 31.84 16.7 6.65-3 8.15-18.9 5.85-28.2-8.75-36.62-70.74-87.82-70.74-87.82zM261.7 110.1s-1.2 61.1 17.1 82.2c7.7 8.7 22.4 16.8 32.9 11.8 9-4.4 11.7-18.9 9.6-28.8-6.2-28.8-59.6-65.2-59.6-65.2zm-115.4 26.6s-7.1 48.7 6.6 66.1c7.4 9.4 22.8 16.5 33.9 11.9 8.8-3.6 14.1-16.4 12.5-25.8-4.2-24.5-53-52.2-53-52.2zm292 84.9c-45.7 18-119.3-5.9-142.4 35.9-8 11.3 2.9 24 7.8 33.5-13 11.1-26.2 23.7-36.9 36.9-19.2-3.3-31.4-7-39.6-12.6l.1-.1c2.9-81.3-95.3-29-147.99-57 6.99 51.9 74.29 49.2 86.49 65 10.7 11.1 30.3 10.2 46 2.9 1.2 1.1 2.5 2.2 3.9 3.2 10.3 7.4 22.9 11.6 39.8 14.8-2.6 4.5-4.8 9-6.5 13.6-3.3 9.2-5 19.7-5.6 30.8-16.7-11.7-50.2-6.4-76.3-21.9 2.7 18.4 39.1 77.6 77.7 57 1.1 9.7 2.6 19.4 4.2 28.6 2.9 16.6 6.4 31.4 9.1 41.8h18.5c-2.6-9.8-6.6-26.3-9.9-44.9-.2-1-.3-2.1-.5-3.1 26.1-5.7 53.9-15.9 71.6-38.6 4.5 1.5 10.3 1.9 17.1.8 29.9-14.7 51.7-37.3 109-25.5-29.5-14.2-66.5-28.1-95-28.4h-2.1c-21 .2-37.1 8.4-41.3 30.3-.6 3.3-.6 6.3-.1 9.1-13.6 19.5-37.2 28.9-61.8 34.4-2.8-24.5-3.1-49.3 2.4-64.2 6.8-18.8 31.4-44.2 54.5-63.5 1.7-1.4 3.3-2.8 5-4.1 6.8 2.8 12.6 6.9 21.6 5.8 42.1-7.1 70.4-49.9 91.2-80.5z"}}]})(e)}var _={};function x(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(r){return typeof r}:x=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},x(e)}Object.defineProperty(_,"__esModule",{value:!0});_.Collapse=void 0;var k=ce(v);function ce(e){return e&&e.__esModule?e:{default:e}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fe(e,t,r){return t&&T(e.prototype,t),r&&T(e,r),e}function pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function j(e,t){return j=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},j(e,t)}function de(e){var t=ye();return function(){var i=P(e),n;if(t){var o=P(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&(x(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},P(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=function(e){pe(r,e);var t=de(r);function r(i){var n;return ue(this,r),n=t.call(this,i),g(m(n),"timeout",void 0),g(m(n),"container",void 0),g(m(n),"content",void 0),g(m(n),"onResize",function(){if(clearTimeout(n.timeout),!(!n.container||!n.content)){var o=n.props,l=o.isOpened,c=o.checkTimeout,s=Math.floor(n.container.clientHeight),f=Math.floor(n.content.clientHeight),u=l&&Math.abs(f-s)<=1,h=!l&&Math.abs(s)<=1;u||h?n.onRest({isFullyOpened:u,isFullyClosed:h,isOpened:l,containerHeight:s,contentHeight:f}):(n.onWork({isFullyOpened:u,isFullyClosed:h,isOpened:l,containerHeight:s,contentHeight:f}),n.timeout=setTimeout(function(){return n.onResize()},c))}}),g(m(n),"onRest",function(o){var l=o.isFullyOpened,c=o.isFullyClosed,s=o.isOpened,f=o.containerHeight,u=o.contentHeight;if(!(!n.container||!n.content)){var h=s&&n.container.style.height==="".concat(u,"px"),O=!s&&n.container.style.height==="0px";if(h||O){n.container.style.overflow=s?"initial":"hidden",n.container.style.height=s?"auto":"0px";var y=n.props.onRest;y&&y({isFullyOpened:l,isFullyClosed:c,isOpened:s,containerHeight:f,contentHeight:u})}}}),g(m(n),"onWork",function(o){var l=o.isFullyOpened,c=o.isFullyClosed,s=o.isOpened,f=o.containerHeight,u=o.contentHeight;if(!(!n.container||!n.content)){var h=s&&n.container.style.height==="".concat(u,"px"),O=!s&&n.container.style.height==="0px";if(!(h||O)){n.container.style.overflow="hidden",n.container.style.height=s?"".concat(u,"px"):"0px";var y=n.props.onWork;y&&y({isFullyOpened:l,isFullyClosed:c,isOpened:s,containerHeight:f,contentHeight:u})}}}),g(m(n),"onRefContainer",function(o){n.container=o}),g(m(n),"onRefContent",function(o){n.content=o}),i.initialStyle?n.initialStyle=i.initialStyle:n.initialStyle=i.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},n}return fe(r,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(n){var o=this.props,l=o.theme,c=o.isOpened,s=o.children;return s!==n.children||c!==n.isOpened||Object.keys(l).some(function(f){return l[f]!==n.theme[f]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var n=this.content.clientHeight;this.container.style.height="".concat(n,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var n=this.props,o=n.theme,l=n.children,c=n.isOpened;return k.default.createElement("div",{ref:this.onRefContainer,className:o.collapse,style:this.initialStyle,"aria-hidden":!c},k.default.createElement("div",{ref:this.onRefContent,className:o.content},l))}}]),r}(k.default.Component);_.Collapse=z;g(z,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50});var $={};function w(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(r){return typeof r}:w=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},w(e)}Object.defineProperty($,"__esModule",{value:!0});$.UnmountClosed=void 0;var U=Oe(v),me=_,ge=["isOpened"],ve=["isOpened"];function Oe(e){return e&&e.__esModule?e:{default:e}}function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},F.apply(this,arguments)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(i){b(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function D(e,t){if(e==null)return{};var r=be(e,t),i,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function be(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,o;for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xe(e,t,r){return t&&I(e.prototype,t),r&&I(e,r),e}function we(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}function H(e,t){return H=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},H(e,t)}function Re(e){var t=Se();return function(){var i=S(e),n;if(t){var o=S(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){if(t&&(w(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},S(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(e){we(r,e);var t=Re(r);function r(i){var n;return _e(this,r),n=t.call(this,i),b(R(n),"onWork",function(o){var l=o.isOpened,c=D(o,ge);n.setState({isResting:!1,isOpened:l});var s=n.props.onWork;s&&s(E({isOpened:l},c))}),b(R(n),"onRest",function(o){var l=o.isOpened,c=D(o,ve);n.setState({isResting:!0,isOpened:l,isInitialRender:!1});var s=n.props.onRest;s&&s(E({isOpened:l},c))}),b(R(n),"getInitialStyle",function(){var o=n.state,l=o.isOpened,c=o.isInitialRender;return c?l?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),n.state={isResting:!0,isOpened:i.isOpened,isInitialRender:!0},n}return xe(r,[{key:"componentDidUpdate",value:function(n){var o=this.props.isOpened;n.isOpened!==o&&this.setState({isResting:!1,isOpened:o,isInitialRender:!1})}},{key:"render",value:function(){var n=this.state,o=n.isResting,l=n.isOpened;return o&&!l?null:U.default.createElement(me.Collapse,F({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),r}(U.default.PureComponent);$.UnmountClosed=A;b(A,"defaultProps",{onWork:void 0,onRest:void 0});var Ce=_,$e=Ce.Collapse,Ne=$,C=Ne.UnmountClosed,ke=C;C.Collapse=$e;C.UnmountClosed=C;const M=({header:e,content:t,open:r,toggle:i})=>d("div",{children:[d("div",{className:`flex justify-between items-center cursor-pointer ${p.paragraph1}`,onClick:()=>i(),children:[a("p",{children:e}),a("div",{children:r?a(oe,{}):a(ae,{})})]}),a(ke.Collapse,{isOpened:r,children:a("div",{className:"p-3 md:p-6",children:t})})]}),Ie=()=>{const{user:e}=X(),{addLoading:t,addPlantToCart:r}=le(),[i,n]=v.useState(!0),[o,l]=v.useState(!1),[c,s]=v.useState(!1),{id:f}=Y(),[u,h]=v.useState({}),{image:O,name:y,price:B,title:L,desc:q,watering:G,light:K,about:J}=u;v.useEffect(()=>{(async()=>{await ne.get(`/api/store/${f}`).then(N=>{h(N.data),n(!1)}).catch(N=>{console.log(N)})})()},[]);const Q=()=>{c&&!o&&s(!1),l(!o)},V=()=>{o&&!c&&l(!1),s(!c)};return a("section",{className:`flex flex-col sm:flex-row justify-start items-start ${p.padding}`,children:i?a(Z,{height:"300px"}):d(ee,{children:[a("div",{className:"flex-1 flex justify-center mx-10 sm:mx-6 mt-10 sm:mt-4 border-solid border-gray-400 border-[1px]",children:a("img",{src:O,alt:"plant",className:"h-full w-full max-w-[636px] max-h-[636px]"})}),d("div",{className:"flex-1 flex flex-col justify-start mt-0 sm:mt-4 p-10 sm:p-0 sm:px-10",children:[a("h1",{className:`${p.heading}`,children:y}),a("h2",{className:`${p.paragraph2} text-gray-400`,children:B}),d("h3",{className:"mt-6 leading-8",children:[a("p",{className:`${p.paragraph2} font-semibold`,children:L}),a("p",{className:`${p.paragraph3} font-light`,children:q})]}),d("button",{disabled:t||!e,className:`flex my-3 md:my-6 w-full h-fit px-6 py-3 justify-center text-white ${e?t?"cursor-wait":"cursor-pointer":"cursor-default"} bg-[#669660] ${e&&"hover:bg-[#99B896] hover:scale-110 duration-300"} ${p.paragraph2}`,onClick:()=>r(u),children:[t&&a("div",{className:"flex mr-2 justify-center items-center",children:a(te,{width:"18px",color:"white"})}),e?t?"Adding...":"Add to Cart":"login to use cart"]}),a("div",{className:"p-2",children:a(M,{header:`${y} likes...`,content:d("div",{children:[d("div",{className:"flex mb-3",children:[a("div",{className:"mr-3",children:a(se,{className:"w-6 h-6 shrink-0"})}),d("div",{className:"flex flex-col",children:[a("p",{className:`${p.paragraph2} font-bold mb-2`,children:"Watering"}),a("p",{className:`${p.paragraph3} font-light`,children:G})]})]}),d("div",{className:"flex",children:[a("div",{className:"mr-3",children:a(ie,{className:"w-6 h-6 shrink-0"})}),d("div",{className:"flex flex-col",children:[a("p",{className:`${p.paragraph2} font-bold mb-2`,children:"Light"}),a("p",{className:`${p.paragraph3} font-light`,children:K})]})]})]}),open:o,toggle:Q})}),a("div",{className:"p-2",children:a(M,{header:`About ${y} plants`,content:a("p",{className:`${p.paragraph3} font-light leading-6`,children:J}),open:c,toggle:V})})]})]})})};export{Ie as default};
