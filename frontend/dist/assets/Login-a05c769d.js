import{r as l,u as p,a as t,S as m,j as d,L as g}from"./index-7944a1b6.js";import{a as h}from"./axios-760d4776.js";const f=()=>{const[a,r]=l.useState(null),[n,s]=l.useState(null),{dispatch:i}=p();return{login:async(o,u)=>{s(!0),r(null);try{const e=await h.post("/api/user/login",{email:o,password:u});localStorage.setItem("user",JSON.stringify(e.data)),i({type:"LOGIN",payload:e.data}),s(!1)}catch(e){console.log(e.response),e.response&&e.response.data&&(s(!1),r(e.response.data.error))}},isLoading:n,error:a}},w=()=>{const[a,r]=l.useState(""),[n,s]=l.useState(""),{login:i,isLoading:c,error:o}=f();return t("div",{className:"flex justify-center items-center h-screen",children:c?t("div",{className:"w-full flex flex-col justify-center items-center",children:t(m,{height:"400px"})}):d("div",{className:"w-[300px] h-[400px] flex flex-col justify-between items-center rounded-lg border-2 border-gray-200 text-white shadow-lg shadow-gray-200 bg-gradient-to-t from-[#669660] to-[#99B896]",children:[d("form",{className:"w-full p-4",onSubmit:async e=>{e.preventDefault(),await i(a,n)},children:[t("input",{type:"email",placeholder:"Email",onChange:e=>r(e.target.value),value:a,className:"inputClass"}),t("input",{type:"password",placeholder:"Password",onChange:e=>s(e.target.value),value:n,className:"inputClass"}),t("div",{className:"mt-10 text-center",children:t("button",{className:"py-2 px-4 text-white cursor-pointer hover:bg-[#99B896] hover:scale-110 duration-300",disabled:c,children:"Login"})}),o&&t("div",{className:"p-2 text-center font-bold text-[#e7195a] border-[2px] border-solid border-[#e7195a] rounded-md mt-6 animate-pulse",children:o})]}),d("p",{className:"text center mb-10",children:["Not Signed up before? ",t(g,{to:"/signup",className:"underline cursor-pointer",children:"Signup"})]})]})})};export{w as default};
